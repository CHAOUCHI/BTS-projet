{% extends 'base.html.twig' %}

{% block title %}Hello MachineController!{% endblock %}

{% block body %}
	<div class="row BorderJaune">
    	<div class="col-12 offset-md-3 col-md-6 BorderRouge TitlePage">
    		<h1>Gestion Machines <i class="fas fa-cube"></i></h1>
    	</div>
	</div>
	
    {% for machine in Machines %}
    <div class="card" style="width: 18rem;">
    	<div class="card-body">
    		<div class="card-title">{{ machine.name }}</div>
    		<div class="card-text">
    		     Description : {{ machine.description }}
    		 </div>
        	<a href = {{ path('maintenanceModele3D', {'machine' : machine.id }) }} class="btn btn-info">
        	   Accéder aux Informations de la machine
        	</a>
    	</div>
    </div>
    {% endfor %}

		</br></br>
		
		<!-- Création Machine -->
		<button type="button" class="btn btn-info" onclick="HideFormMachine();"><i class="fas fa-plus-circle"></i> Ajouter une machine</button>
	
	<div id="formMachine" class="col-12 offset-md-2 col-md-8 offset-lg-3 col-lg-6" hidden>
        <h2>Creer une nouvelle machine :</h2>
		{{ form_start(formMachine) }}
            {{ form_row(formMachine.name, {'attr':{'placeholder' : "Nom de la machine"}}) }}
            {{ form_row(formMachine.description, {'attr':{'placeholder' : "Information sur la machine"}}) }}
    {#         {{ form_row(formMachine.imagefilename, {'attr':{'placeholder' : "Information sur la machine"}}) }}#}
    {#     {{ form_row(formMachine.Enregistrer) }}#}
    
        {{ form_end(formMachine) }}
    </div>
    <script>
	form = document.getElementById('formMachine');
    function HideFormMachine()
    {
		form.hidden = form.hidden ? false : true;
    }
    </script>
{% endblock %}
